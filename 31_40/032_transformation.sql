-- 032 암시적 형 변환
SELECT ename, sal
    FROM emp 
    WHERE sal = '3000';

-- 출력 예시 
--FORD	3000
--SCOTT	3000

--sal은 숫자형 데이터인데 '3000'을 문자형으로 비교하고 있음 

-- sal을 일부러 문자형으로 만들어 생성 
CREATE TABLE EMP32
(ENAME VARCHAR2(10), 
SAL VARCHAR2(10));

INSERT INTO EMP32 VALUES('SCOTT', '3000');
INSERT INTO EMP32 VALUES('SMITH', '1200');
COMMIT;

-- 문자형 = 문자형
SELECT ename, sal 
    FROM emp32
    WHERE sal = '3000';

--출력 예시 
--SCOTT	3000

-- 문자형 = 숫자형
SELECT ename, sal 
    FROM emp32
    WHERE sal = 3000;
    
--출력 예시 
--SCOTT	3000

SELECT ename, sal
    FROM emp32
    WHERE TO_NUMBER(SAL) = 3000;

--출력 예시 
--SCOTT	3000

SET AUTOT ON 

SELECT ename, sal 
    FROM emp32
    WHERE sal = 3000;

--자동 추적 사용
--실행 계획과 명령문 통계를 표시합니다.
-->>Query Run In:
--
--PLAN_TABLE_OUTPUT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--SQL_ID  4q3hu9pkhyzth, child number 0
---------------------------------------
--SELECT ename, sal      FROM emp32     WHERE sal = 3000
-- 
--Plan hash value: 4161066290
-- 
----------------------------------------------
--| Id  | Operation         | Name  | E-Rows |
----------------------------------------------
--|   0 | SELECT STATEMENT  |       |        |
--|*  1 |  TABLE ACCESS FULL| EMP32 |      1 |
--
--PLAN_TABLE_OUTPUT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------
-- 
--Predicate Information (identified by operation id):
-----------------------------------------------------
-- 
--   1 - filter(TO_NUMBER("SAL")=3000)
 
-- 오라클이 암시적으로 문자형을 숫자형으로 형 변환함